###############################################################################
# Mail Server Template - Environment Configuration
#
# Copy this file to .env and customize for your domain
# Usage: cp .env.example .env && nano .env
###############################################################################

# ═══════════════════════════════════════════════════════════════
# ORGANIZATION & BRANDING
# ═══════════════════════════════════════════════════════════════

# Organization name (e.g., "ACME Corporation", "MyCompany Inc.")
ORG_NAME="VLN - Fused Gaming"

# Organization tagline/description (displayed in banner)
ORG_TAGLINE="Smart Contract Vulnerability Research Lab"

# Primary brand color (hex format with #)
BRAND_PRIMARY="#0066FF"

# Secondary brand color (hex format with #)
BRAND_SECONDARY="#00D4FF"

# Dark theme color (hex format with #)
BRAND_DARK="#0A0E27"

# ═══════════════════════════════════════════════════════════════
# DOMAIN CONFIGURATION
# ═══════════════════════════════════════════════════════════════

# Primary domain (e.g., "example.com", "yourdomain.org")
PRIMARY_DOMAIN="vln.gg"

# Mail server subdomain (e.g., "mail.example.com", "mx.yourdomain.org")
MAIL_DOMAIN="mail.vln.gg"

# Admin email address (used for Let's Encrypt, system notifications)
ADMIN_EMAIL="admin@vln.gg"

# Postmaster email (used for DMARC reports, abuse notifications)
POSTMASTER_EMAIL="postmaster@vln.gg"

# ═══════════════════════════════════════════════════════════════
# SYSTEM CONFIGURATION
# ═══════════════════════════════════════════════════════════════

# Script version (semantic versioning)
SCRIPT_VERSION="0.0.0"

# Log file location
LOG_FILE="/var/log/mail-server-install.log"

# Installation directory for Modoboa
INSTALL_DIR="/opt/modoboa"

# Modoboa instance directory
INSTANCE_DIR="/srv/modoboa/instance"

# ═══════════════════════════════════════════════════════════════
# DATABASE CONFIGURATION
# ═══════════════════════════════════════════════════════════════

# Database engine (postgres, mysql)
DB_ENGINE="postgres"

# Database name
DB_NAME="modoboa"

# Database user
DB_USER="modoboa"

# Database host
DB_HOST="localhost"

# Database password (leave empty to auto-generate secure password)
DB_PASSWORD=""

# ═══════════════════════════════════════════════════════════════
# MODOBOA ADMIN CONFIGURATION
# ═══════════════════════════════════════════════════════════════

# Modoboa admin username
MODOBOA_ADMIN_USER="admin"

# Modoboa admin password (leave empty to auto-generate secure password)
MODOBOA_ADMIN_PASSWORD=""

# Modoboa interface language (en, fr, de, es, etc.)
MODOBOA_LANGUAGE="en"

# ═══════════════════════════════════════════════════════════════
# SSL/TLS CERTIFICATE CONFIGURATION
# ═══════════════════════════════════════════════════════════════

# Generate SSL certificate (true/false)
CERT_GENERATE="true"

# Certificate type (letsencrypt, selfsigned)
CERT_TYPE="letsencrypt"

# Let's Encrypt email (defaults to ADMIN_EMAIL if empty)
CERT_EMAIL=""

# ═══════════════════════════════════════════════════════════════
# MAIL SERVICE CONFIGURATION
# ═══════════════════════════════════════════════════════════════

# Enable Dovecot (IMAP/POP3 server) - true/false
DOVECOT_ENABLED="true"

# Enable Postfix (SMTP server) - true/false
POSTFIX_ENABLED="true"

# Enable OpenDKIM (email authentication) - true/false
OPENDKIM_ENABLED="true"

# Enable Amavis (content filter) - true/false
AMAVIS_ENABLED="true"
AMAVIS_USER="amavis"

# Enable SpamAssassin (spam filtering) - true/false
SPAMASSASSIN_ENABLED="true"

# Enable ClamAV (antivirus) - true/false
CLAMAV_ENABLED="true"

# Enable Radicale (calendar/contacts) - true/false
RADICALE_ENABLED="false"

# Enable Nginx (web server) - true/false
NGINX_ENABLED="true"

# ═══════════════════════════════════════════════════════════════
# FIREWALL & PORT CONFIGURATION
# ═══════════════════════════════════════════════════════════════

# SSH port
PORT_SSH="22"

# HTTP port
PORT_HTTP="80"

# HTTPS port
PORT_HTTPS="443"

# SMTP port (standard)
PORT_SMTP="25"

# SMTP Submission port (with STARTTLS)
PORT_SUBMISSION="587"

# SMTPS port (SSL/TLS)
PORT_SMTPS="465"

# IMAPS port (SSL/TLS)
PORT_IMAPS="993"

# POP3S port (SSL/TLS)
PORT_POP3S="995"

# ═══════════════════════════════════════════════════════════════
# BACKUP CONFIGURATION
# ═══════════════════════════════════════════════════════════════

# Backup directory
BACKUP_DIR="/var/backups/mail-server"

# Backup retention (days)
BACKUP_RETENTION_DAYS="7"

# Backup cron schedule (default: daily at 2 AM)
BACKUP_CRON_SCHEDULE="0 2 * * *"

# Backup script location
BACKUP_SCRIPT="/usr/local/bin/mail-server-backup.sh"

# Backup log file
BACKUP_LOG="/var/log/mail-server-backup.log"

# ═══════════════════════════════════════════════════════════════
# FAIL2BAN CONFIGURATION
# ═══════════════════════════════════════════════════════════════

# Fail2ban max retry attempts
FAIL2BAN_MAXRETRY="5"

# Fail2ban ban time (seconds)
FAIL2BAN_BANTIME="3600"

# ═══════════════════════════════════════════════════════════════
# SYSTEM REQUIREMENTS
# ═══════════════════════════════════════════════════════════════

# Minimum required memory (MB)
MIN_MEMORY_MB="1800"

# Minimum required disk space (GB)
MIN_DISK_GB="10"

# ═══════════════════════════════════════════════════════════════
# LOG ROTATION CONFIGURATION
# ═══════════════════════════════════════════════════════════════

# Log rotation frequency (daily, weekly, monthly)
LOGROTATE_FREQUENCY="weekly"

# Number of rotations to keep
LOGROTATE_COUNT="12"

# ═══════════════════════════════════════════════════════════════
# OPTIONAL: CONNECTIVITY TEST HOST
# ═══════════════════════════════════════════════════════════════

# Host to ping for internet connectivity check
CONNECTIVITY_TEST_HOST="google.com"

# External IP detection service
IP_DETECTION_SERVICE="ifconfig.me"

# ═══════════════════════════════════════════════════════════════
# ADVANCED: DNS CONFIGURATION PROMPTS
# ═══════════════════════════════════════════════════════════════

# Skip DNS configuration prompt (true/false)
# WARNING: Set to true only if DNS is already configured
SKIP_DNS_PROMPT="false"

# MX record priority
MX_PRIORITY="10"

# SPF record policy (v=spf1 mx ~all is recommended)
SPF_RECORD="v=spf1 mx ~all"

# DMARC policy (none, quarantine, reject)
DMARC_POLICY="quarantine"

# ═══════════════════════════════════════════════════════════════
# NOTES
# ═══════════════════════════════════════════════════════════════
#
# - Lines starting with # are comments
# - Empty values will use defaults or auto-generate secure values
# - Passwords left empty will be automatically generated
# - Color values must be in hex format with # prefix
# - Boolean values should be "true" or "false" (lowercase)
# - Port numbers must be valid (1-65535)
#
# ═══════════════════════════════════════════════════════════════
