###############################################################################
# Example: Corporate Mail Server Configuration
#
# Use case: Professional corporate email server with full security features
# Deploy this for business environments requiring high security and reliability
###############################################################################

# ═══════════════════════════════════════════════════════════════
# ORGANIZATION & BRANDING
# ═══════════════════════════════════════════════════════════════

ORG_NAME="ACME Corporation"
ORG_TAGLINE="Enterprise Email Solutions"

# Professional color scheme
BRAND_PRIMARY="#003366"
BRAND_SECONDARY="#0066CC"
BRAND_DARK="#001a33"

# ═══════════════════════════════════════════════════════════════
# DOMAIN CONFIGURATION
# ═══════════════════════════════════════════════════════════════

PRIMARY_DOMAIN="acmecorp.com"
MAIL_DOMAIN="mail.acmecorp.com"
ADMIN_EMAIL="it@acmecorp.com"
POSTMASTER_EMAIL="postmaster@acmecorp.com"

# ═══════════════════════════════════════════════════════════════
# SYSTEM CONFIGURATION
# ═══════════════════════════════════════════════════════════════

SCRIPT_VERSION="1.0.0"
LOG_FILE="/var/log/acmecorp-mail-install.log"
INSTALL_DIR="/opt/modoboa"
INSTANCE_DIR="/srv/modoboa/instance"

# ═══════════════════════════════════════════════════════════════
# DATABASE CONFIGURATION
# ═══════════════════════════════════════════════════════════════

DB_ENGINE="postgres"
DB_NAME="modoboa"
DB_USER="modoboa"
DB_HOST="localhost"
DB_PASSWORD=""  # Auto-generated

# ═══════════════════════════════════════════════════════════════
# MODOBOA ADMIN CONFIGURATION
# ═══════════════════════════════════════════════════════════════

MODOBOA_ADMIN_USER="admin"
MODOBOA_ADMIN_PASSWORD=""  # Auto-generated
MODOBOA_LANGUAGE="en"

# ═══════════════════════════════════════════════════════════════
# SSL/TLS CERTIFICATE CONFIGURATION
# ═══════════════════════════════════════════════════════════════

CERT_GENERATE="true"
CERT_TYPE="letsencrypt"
CERT_EMAIL="it@acmecorp.com"

# ═══════════════════════════════════════════════════════════════
# MAIL SERVICE CONFIGURATION - ALL SECURITY ENABLED
# ═══════════════════════════════════════════════════════════════

DOVECOT_ENABLED="true"
POSTFIX_ENABLED="true"
OPENDKIM_ENABLED="true"
AMAVIS_ENABLED="true"
AMAVIS_USER="amavis"
SPAMASSASSIN_ENABLED="true"
CLAMAV_ENABLED="true"  # Antivirus enabled for corporate
RADICALE_ENABLED="false"
NGINX_ENABLED="true"

# ═══════════════════════════════════════════════════════════════
# PORT CONFIGURATION - STANDARD PORTS
# ═══════════════════════════════════════════════════════════════

PORT_SSH="22"
PORT_HTTP="80"
PORT_HTTPS="443"
PORT_SMTP="25"
PORT_SUBMISSION="587"
PORT_SMTPS="465"
PORT_IMAPS="993"
PORT_POP3S="995"

# ═══════════════════════════════════════════════════════════════
# BACKUP CONFIGURATION - EXTENDED RETENTION
# ═══════════════════════════════════════════════════════════════

BACKUP_DIR="/var/backups/acmecorp-mail"
BACKUP_RETENTION_DAYS="30"  # Keep backups for 30 days
BACKUP_CRON_SCHEDULE="0 1 * * *"  # Daily at 1 AM
BACKUP_SCRIPT="/usr/local/bin/acmecorp-mail-backup.sh"
BACKUP_LOG="/var/log/acmecorp-mail-backup.log"

# ═══════════════════════════════════════════════════════════════
# FAIL2BAN CONFIGURATION - STRICT SETTINGS
# ═══════════════════════════════════════════════════════════════

FAIL2BAN_MAXRETRY="3"  # Strict: only 3 attempts
FAIL2BAN_BANTIME="7200"  # Ban for 2 hours

# ═══════════════════════════════════════════════════════════════
# SYSTEM REQUIREMENTS
# ═══════════════════════════════════════════════════════════════

MIN_MEMORY_MB="2048"
MIN_DISK_GB="20"

# ═══════════════════════════════════════════════════════════════
# LOG ROTATION CONFIGURATION
# ═══════════════════════════════════════════════════════════════

LOGROTATE_FREQUENCY="daily"
LOGROTATE_COUNT="30"  # Keep 30 days of logs

# ═══════════════════════════════════════════════════════════════
# CONNECTIVITY
# ═══════════════════════════════════════════════════════════════

CONNECTIVITY_TEST_HOST="google.com"
IP_DETECTION_SERVICE="ifconfig.me"

# ═══════════════════════════════════════════════════════════════
# DNS CONFIGURATION
# ═══════════════════════════════════════════════════════════════

SKIP_DNS_PROMPT="false"
MX_PRIORITY="10"
SPF_RECORD="v=spf1 mx -all"  # Strict SPF policy
DMARC_POLICY="reject"  # Strict DMARC policy for corporate
